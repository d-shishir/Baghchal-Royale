@startuml
title Baghchal Royale - Class Diagram

package "Database Models" {
  class User
  class Game
  class Move
  class Friendship
  enum GamePhase
  enum GameStatus
  enum GameMode
  enum Difficulty
  enum MoveType
  enum FriendshipStatus
}

package "API Schemas" {
  class UserCreate
  class UserUpdate
  class UserRead
  class GameRead
  class FriendshipRead
  class Token
}

package "Core Logic" {
  class ELOService
  class GameLogic
  class SecurityService
  abstract class AIAgent
  class AdvancedTigerAI
  class AdvancedGoatAI
  class GuestModeAI
}

' Relationships
User "1" -- "0..*" Game
User "1" -- "0..*" Move
User "1" -- "0..*" Friendship

Game "1" -- "0..*" Move
Game -- GamePhase
Game -- GameStatus
Game -- GameMode
Game -- Difficulty

Move -- MoveType

Friendship -- FriendshipStatus
Friendship "1" -- "1" User

UserCreate ..> User
UserUpdate ..> User
UserRead ..> User
GameRead ..> Game
FriendshipRead ..> Friendship

ELOService ..> User
GameLogic ..> Game
SecurityService ..> User

AIAgent <|-- AdvancedTigerAI
AIAgent <|-- AdvancedGoatAI
AIAgent <|-- GuestModeAI
AIAgent ..> Game
@enduml