@startuml
' skinparam to improve the look and feel
skinparam activity {
  BackgroundColor White
  ArrowColor Black
  BorderColor Black
  FontName sans-serif
}
skinparam shadowing false
skinparam monochrome true

title Activity Diagram: Friendship Management

start
:User opens Friends tab;
:System loads friends list and pending requests;

if (User wants to add friends?) then (yes)
  :Navigate to Search tab;
  :Enter search query;
  :System searches for users;
  if (Users found?) then (yes)
    :Display search results;
    :User selects user to add;
    if (Already friends or request pending?) then (yes)
      :Show "Already friends" or "Request pending";
    else (no)
      :Send friend request;
      :System creates friendship record;
      :Show "Friend request sent";
    endif
  else (no)
    :Show "No users found";
  endif
else (no)
  if (User wants to manage pending requests?) then (yes)
    :Navigate to Requests tab;
    :Display pending requests;
    if (Accept request?) then (yes)
      :Update friendship status to "accepted";
      :Show "Friend request accepted";
    else (decline)
      :Update friendship status to "declined";
      :Show "Friend request declined";
    endif
  else (no)
    if (User wants to remove friend?) then (yes)
      :Navigate to Friends tab;
      :Select friend to remove;
      :Show confirmation dialog;
      if (Confirm removal?) then (yes)
        :Delete friendship record;
        :Update friends list;
        :Show "Friend removed";
      else (no)
        :Cancel removal;
      endif
    endif
  endif
endif

stop

@enduml 